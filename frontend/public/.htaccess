# .htaccess for BinariaOS Universal DB
# This handles React Router transitions and API proxying

RewriteEngine On

# 1. Proxy /api requests to the Node.js backend
# The backend is expected to be reachable via HTTP
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^api/(.*) http://localhost:5000/api/$1 [P,L]

# 2. Redirect all other requests to index.html (SPA routing)
# If the file or directory exists, serve it directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . index.html [L]
